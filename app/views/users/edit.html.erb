
<div class='mypage'>
  <h2>マイページ(アイコンで可愛く)</h2>
  <%= form_with model: @user, local:true do |f| %>
  <%= render 'layouts/error_messages', resource: @user %>
  <div class="profile-body">
    <div class="profile-detail">
      <div class="profile-icon">
  	    <label>
  	      <%= attachment_image_tag @user, :profile_image, :fill, 150, 150, fallback: "user_missing.png", class: "my-3 rounded-circle"%>
  	      <%= f.attachment_field :profile_image, placeholder: "プロフィール画像" %>
  	    </label>
      </div>

      <div class='profile-basis'>
        <div class="form-group">
          <p>名前</p>
          <%= f.text_field :name, :placeholder =>"#{@user.name}", class:"form-control" %>
        </div>
        <div class="form-group">
          <p>メールアドレス</p>
          <%= f.email_field :email, autocomplete: "email", :placeholder =>"#{@user.email}", class:"form-control" %>
        </div>
        <div class="form-group">
          <p>introduction</p>
          <%= f.text_area :introduction, :placeholder =>"#{@user.introduction}", class:"form-control"  %>
        </div>
      </div>
    </div>

    <div class="profile-btn">
      <div class="btn">
        <%= hidden_field_tag :user_id, params[:user_id] %>
        <%= f.submit "保存", class: "btn-sm btn-info"  %>
      </div>
    </div>
    <% end %>

    <div class="my-group-count">
      <span>所属グループ数: <%= @user.group_users.count %></span>
      <%= link_to "グループ一覧へ", groups_path %>
    </div>

    <div><%= link_to "タスク画面へ", tasks_path(user_id: @user) %></div>
  </div>

</div>


